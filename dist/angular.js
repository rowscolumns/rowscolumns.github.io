"use strict";var ut=Object.create;var k=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var lt=Object.getOwnPropertyNames;var pt=Object.prototype.hasOwnProperty;var G=(t,e)=>(e=Symbol[t])?e:Symbol.for("Symbol."+t),C=t=>{throw TypeError(t)};var dt=(t,e,i)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var F=(t,e)=>k(t,"name",{value:e,configurable:!0});var ft=(t,e)=>{for(var i in e)k(t,i,{get:e[i],enumerable:!0})},yt=(t,e,i,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of lt(e))!pt.call(t,s)&&s!==i&&k(t,s,{get:()=>e[s],enumerable:!(a=q(e,s))||a.enumerable});return t};var ct=t=>yt(k({},"__esModule",{value:!0}),t);var Y=t=>[,,,ut(t?.[G("metadata")]??null)],J=["class","method","getter","setter","accessor","field","value","get","set"],j=t=>t!==void 0&&typeof t!="function"?C("Function expected"):t,ht=(t,e,i,a,s)=>({kind:J[t],name:e,metadata:a,addInitializer:r=>i._?C("Already initialized"):s.push(j(r||null))}),bt=(t,e)=>dt(e,G("metadata"),t[3]),L=(t,e,i,a)=>{for(var s=0,r=t[e>>1],f=r&&r.length;s<f;s++)e&1?r[s].call(i):a=r[s].call(i,a);return a},A=(t,e,i,a,s,r)=>{var f,c,x,l,u,n=e&7,m=!!(e&8),p=!!(e&16),o=n>3?t.length+1:n?m?1:2:0,w=J[n+5],v=n>3&&(t[o-1]=[]),T=t[o]||(t[o]=[]),S=n&&(!p&&!m&&(s=s.prototype),n<5&&(n>3||!p)&&q(n<4?s:{get[i](){return U(this,r)},set[i](g){return Z(this,r,g)}},i));n?p&&n<4&&F(r,(n>2?"set ":n>1?"get ":"")+i):F(s,i);for(var D=a.length-1;D>=0;D--)l=ht(n,i,x={},t[3],T),n&&(l.static=m,l.private=p,u=l.access={has:p?g=>mt(s,g):g=>i in g},n^3&&(u.get=p?g=>(n^1?U:gt)(g,s,n^4?r:S.get):g=>g[i]),n>2&&(u.set=p?(g,z)=>Z(g,s,z,n^4?r:S.set):(g,z)=>g[i]=z)),c=(0,a[D])(n?n<4?p?r:S[w]:n>4?void 0:{get:S.get,set:S.set}:s,l),x._=1,n^4||c===void 0?j(c)&&(n>4?v.unshift(c):n?p?r=c:S[w]=c:s=c):typeof c!="object"||c===null?C("Object expected"):(j(f=c.get)&&(S.get=f),j(f=c.set)&&(S.set=f),j(f=c.init)&&v.unshift(f));return n||bt(t,s),S&&k(s,i,S),p?n^4?r:S:s};var _=(t,e,i)=>e.has(t)||C("Cannot "+i),mt=(t,e)=>Object(e)!==e?C('Cannot use the "in" operator on this value'):t.has(e),U=(t,e,i)=>(_(t,e,"read from private field"),i?i.call(t):e.get(t));var Z=(t,e,i,a)=>(_(t,e,"write to private field"),a?a.call(t,i):e.set(t,i),i),gt=(t,e,i)=>(_(t,e,"access private method"),i);var Lt={};ft(Lt,{RowscolumnsComponent:()=>N});module.exports=ct(Lt);var M=require("@angular/core");function St(t){return{t:t.top||0,r:t.right||0,b:t.bottom||0,l:t.left||0}}function V(t,e,i){if(t instanceof I||typeof t!="object"||t===null)return t;let a=t,s=Object.keys(a).sort((r,f)=>(i[f]||0)-(i[r]||0));for(let r of s)if(e>=(i[r]||0))return a[r];return a.xs??a.default??1}function K(t,e){if(!e)return;let{className:i,class:a,...s}=e;i&&t.classList.add(...String(i).split(" ")),a&&t.classList.add(...String(a).split(" ")),Object.assign(t.style,s)}var I=class t{constructor(e,i="leaf",a=[]){this.size=e;this.type=i;this.children=a;this.isSkippedSelf=!1;this.offsetIndices=[];this.styles={};this.spanData={t:0,r:0,b:0,l:0};this.childPropRules=[];this.childSpanRules=[]}col(...e){return new t(this.size,"col",e)}row(...e){return new t(this.size,"row",e)}offset(e){return Array.isArray(e)?this.offsetIndices=e:this.isSkippedSelf=!0,this}props(e){return this.styles={...this.styles,...e},this}childProps(e,i){return this.childPropRules.push({data:e,indices:i||null}),this}span(e,i){let a=St(e);return i?this.childSpanRules.push({data:a,indices:i}):(this.spanData.t+=a.t,this.spanData.r+=a.r,this.spanData.b+=a.b,this.spanData.l+=a.l),this}},P=class{constructor(e,i,a,s,r,f,c,x={t:0,r:0,b:0,l:0}){this.x=e;this.y=i;this.w=a;this.h=s;this.styles=r;this.isSkipped=f;this.customSize=c;this.spanData=x}},Q=!1;function X(){if(Q)return;Q=!0;let t=(e,i=!1)=>{if(e.col)return;let a=s=>new I(i?String(s):s);e.col=function(...s){return new I(i?String(this):this,"col",s)},e.row=function(...s){return new I(i?String(this):this,"row",s)},e.offset=function(s){return a(this).offset(s)},e.props=function(s){return a(this).props(s)},e.childProps=function(s,r){return a(this).childProps(s,r)},e.span=function(s,r){return a(this).span(s,r)}};t(Number.prototype,!1),t(String.prototype,!0)}var W={bps:{xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},_strMap:new Map,_strCounter:0,init(){X(),this.upd(),typeof window<"u"&&window.addEventListener("resize",()=>this.upd())},upd(){typeof document<"u"&&document.querySelectorAll("[layout]").forEach(t=>this.render(t))},evalLayout(t){if(t)try{return new Function("lg","sm","Grid","auto","none","return "+t)(61.8,38.2,100,"auto","none")}catch{return}},isNode(t){return t&&typeof t=="object"&&Array.isArray(t.children)},render(t,e){X();let i=typeof window<"u"?window.innerWidth:0,a=e;if(!a){let n=i>=1400&&t.getAttribute("layout-xxl")||i>=1200&&t.getAttribute("layout-xl")||i>=992&&t.getAttribute("layout-lg")||i>=768&&t.getAttribute("layout-md")||i>=576&&t.getAttribute("layout-sm")||t.getAttribute("layout");n&&(a=this.evalLayout(n))}if(!a)return;K(t,a.styles);let s=[];this.calc(a,0,0,100,100,s,!1,[],[],[],{val:0},i,{t:0,r:0,b:0,l:0});let{cw:r,rh:f,xc:c,yc:x}=this.mesh(s);t.style.display="grid",t.style.gridTemplateColumns=r.join(" "),t.style.gridTemplateRows=f.join(" ");let l=Array.from(t.children);l.forEach(n=>{n.style.gridArea="",n.style.display=""});let u=0;s.forEach(n=>{if(n.isSkipped)return;let m=l[u++];if(!m)return;if(n.styles?.display==="none"){m.style.display="none";return}let p=this.idx(c,n.x)+1,o=this.idx(c,n.x+n.w)+1,w=this.idx(x,n.y)+1,v=this.idx(x,n.y+n.h)+1;n.spanData&&(p=Math.max(1,p-n.spanData.l),w=Math.max(1,w-n.spanData.t),o+=n.spanData.r,v+=n.spanData.b),m.style.gridColumn=`${p} / ${o}`,m.style.gridRow=`${w} / ${v}`,K(m,n.styles)})},calc(t,e,i,a,s,r,f,c,x,l,u,n,m){if(t==null)return;let p=V(t,n,this.bps),o;this.isNode(p)?(o=p,o.size=V(o.size,n,this.bps)):o=new I(p,"leaf");let w=this.isNode(o),v=f||o.isSkippedSelf,T=[...c];w&&o.offsetIndices?.length&&T.push({idx:o.offsetIndices,c:0});let S={...m};w&&(S.t+=o.spanData.t,S.r+=o.spanData.r,S.b+=o.spanData.b,S.l+=o.spanData.l);let D=[...x],g=[...l];if(o.childPropRules.length&&o.childPropRules.forEach(d=>D.push({rule:d,counter:{val:0}})),o.childSpanRules.length&&o.childSpanRules.forEach(d=>g.push({rule:d,counter:{val:0}})),o.type==="leaf"||!o.children.length){let d=v;T.forEach(h=>{h.c++,h.idx.includes(h.c)&&(d=!0)}),d||(u.val++,D.forEach(h=>h.counter.val++),g.forEach(h=>h.counter.val++));let b={...S};d||g.forEach(h=>{(!h.rule.indices||h.rule.indices.includes(h.counter.val))&&(b.t+=h.rule.data.t,b.r+=h.rule.data.r,b.b+=h.rule.data.b,b.l+=h.rule.data.l)});let E={...o.styles};o.size==="none"&&(E.display="none"),d||D.forEach(h=>{(!h.rule.indices||h.rule.indices.includes(h.counter.val))&&Object.assign(E,h.rule.data)}),r.push(new P(e,i,a,s,E,d,typeof o.size=="string"?o.size:void 0,b));return}let z=0,H=o.children.map(d=>{let b=V(d,n,this.bps);return this.isNode(b)&&(b.size=V(b.size,n,this.bps)),b});H.forEach(d=>{let b=this.isNode(d)?d.size:d;b==="none"||typeof b=="string"?b=0:this.isNode(d)&&d.size===0&&(b=1),z+=Number(b)}),z===0&&(z=1);let $=o.type==="col"?e:i;H.forEach(d=>{let b=this.isNode(d)?d.size:d,E=typeof b=="string",h=E?0:Number(b);this.isNode(d)&&d.size===0&&!E&&(h=1);let B=h/z,O=0;if(E&&b!=="none"&&(this._strCounter++,O=1e-6+this._strCounter*1e-7,this._strMap.set(O.toFixed(9),b)),o.type==="col"){let R=E?O:a*B;this.calc(d,$,i,R,s,r,v,T,D,g,u,n,{t:0,r:0,b:0,l:0}),$+=R}else{let R=E?O:s*B;this.calc(d,e,$,a,R,r,v,T,D,g,u,n,{t:0,r:0,b:0,l:0}),$+=R}})},mesh(t){this._strCounter=0;let e=[0],i=[0],a=0,s=0;t.forEach(l=>{e.push(l.x,l.x+l.w),i.push(l.y,l.y+l.h),a=Math.max(a,l.x+l.w),s=Math.max(s,l.y+l.h)}),a>1&&e.push(100),s>1&&i.push(100);let r=l=>[...new Set(l.sort((u,n)=>u-n))].filter((u,n,m)=>n===0||Math.abs(u-m[n-1])>1e-8),f=r(e),c=r(i),x=l=>{let u=[];for(let n=1;n<l.length;n++){let m=l[n]-l[n-1],p=null;for(let[o,w]of this._strMap)if(Math.abs(m-Number(o))<1e-8){p=w;break}u.push(p||m/10+"fr")}return u};return{xc:f,yc:c,cw:x(f),rh:x(c)}},idx(t,e){let i=-1,a=1/0;return t.forEach((s,r)=>{let f=Math.abs(s-e);f<a&&(a=f,i=r)}),i},compileCSS(t){let e=this.evalLayout(t);if(!e)return null;let i=[];this.calc(e,0,0,100,100,i,!1,[],[],[],{val:0},1200,{t:0,r:0,b:0,l:0});let{cw:a,rh:s,xc:r,yc:f}=this.mesh(i),c=`display: grid; grid-template-columns: ${a.join(" ")}; grid-template-rows: ${s.join(" ")};`,x="",l=1;for(let u of i){if(u.isSkipped)continue;let n=this.idx(r,u.x)+1,m=this.idx(r,u.x+u.w)+1,p=this.idx(f,u.y)+1,o=this.idx(f,u.y+u.h)+1;u.spanData&&(n=Math.max(1,n-u.spanData.l),p=Math.max(1,p-u.spanData.t),m+=u.spanData.r,o+=u.spanData.b),x+=`
  & > :nth-child(${l++}) { grid-area: ${p} / ${n} / ${o} / ${m};${u.styles?.display==="none"?" display: none;":""} }`}return c+x}};typeof window<"u"&&X();var tt,et,it,nt,st,at,rt,ot,y;ot=[(0,M.Component)({selector:"rc-layout",standalone:!0,template:"<ng-content></ng-content>",styles:[":host { display: grid; width: 100%; height: 100%; align-content: start; }"]})],rt=[(0,M.Input)()],at=[(0,M.Input)("layout-sm")],st=[(0,M.Input)("layout-md")],nt=[(0,M.Input)("layout-lg")],it=[(0,M.Input)("layout-xl")],et=[(0,M.Input)("layout-xxl")],tt=[(0,M.Input)()];var N=class{constructor(e){this.el=e;this.layout=L(y,8,this),L(y,11,this);this.layoutSm=L(y,12,this),L(y,15,this);this.layoutMd=L(y,16,this),L(y,19,this);this.layoutLg=L(y,20,this),L(y,23,this);this.layoutXl=L(y,24,this),L(y,27,this);this.layoutXxl=L(y,28,this),L(y,31,this);this.style=L(y,32,this),L(y,35,this);this.resizeListener=void 0}ngAfterViewInit(){this.render(),this.resizeListener=()=>this.render(),window.addEventListener("resize",this.resizeListener)}ngOnChanges(e){e&&this.render()}ngOnDestroy(){this.resizeListener&&window.removeEventListener("resize",this.resizeListener)}getActiveLayout(){if(typeof window>"u")return;let e=window.innerWidth;if(e>=1400&&typeof this.layoutXxl=="object")return this.layoutXxl;if(e>=1200&&typeof this.layoutXl=="object")return this.layoutXl;if(e>=992&&typeof this.layoutLg=="object")return this.layoutLg;if(e>=768&&typeof this.layoutMd=="object")return this.layoutMd;if(e>=576&&typeof this.layoutSm=="object")return this.layoutSm;if(typeof this.layout=="object")return this.layout}render(){let e=this.el.nativeElement;typeof this.layout=="string"&&e.setAttribute("layout",this.layout),typeof this.layoutSm=="string"&&e.setAttribute("layout-sm",this.layoutSm),typeof this.layoutMd=="string"&&e.setAttribute("layout-md",this.layoutMd),typeof this.layoutLg=="string"&&e.setAttribute("layout-lg",this.layoutLg),W.render(e,this.getActiveLayout())}};y=Y(null),A(y,5,"layout",rt,N),A(y,5,"layoutSm",at,N),A(y,5,"layoutMd",st,N),A(y,5,"layoutLg",nt,N),A(y,5,"layoutXl",it,N),A(y,5,"layoutXxl",et,N),A(y,5,"style",tt,N),N=A(y,0,"RowscolumnsComponent",ot,N),L(y,1,N);0&&(module.exports={RowscolumnsComponent});
